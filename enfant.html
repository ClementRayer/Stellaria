<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Stellaria | Petit Terrien</title>
    <meta name="description" content="Tracked Controls â€“ A-Frame">
    <link rel="icon" type="image/png" href="images/logo.png"/>
    <link rel="stylesheet" href="style/overlay-style.css">
    <script src="aframe-master.js"></script>
    <script src="aframe.min.js"></script>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="components/animation-comp.js"></script>
</head>
<body>
<div id="animcontrols">
    <button class="ctrlbtn" id="go">Play</button>
    <button class="ctrlbtn" id="init">Aligner les planetes</button>
</div>
<a-scene class="scene">
    <!-- Planets -->
    <!-- Sun -->
    <a-entity>
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/soleil.jpg"
                  position="0 7 0" radius="40"
                  event-set__click="_event: mouseenter; _target: #sun; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #sun; visible: false">
            <a-entity id="sun" visible="false">
                <a-plane visible="true" position="-55 0 55" rotation="0 45 0" width="67" height="45"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/soleil_e.png"></a-plane>
                <a-plane visible="true" position="-55 0 55" rotation="0 225 0" width="67" height="45"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/soleil_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Mercury -->
    <a-entity id="move" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 880;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/mercure.jpg"
                  position="60 7.722 0" radius="0.3"
                  event-set__click="_event: mouseenter; _target: #mercury; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #mercury; visible: false">
            <a-entity id="mercury" visible="false">
                <a-plane visible="true" position="-1.5 0 1" rotation="0 25 0" height="1.6" width="2.4"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/mercure_e.png"></a-plane>
                <a-plane visible="true" position="-1.5 0 1" rotation="0 200 0" height="1.6" width="2.4"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/mercure_e.png"></a-plane>
            </a-entity>
        </a-sphere>

    </a-entity>
    <!-- Venus -->
    <a-entity id="move2" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 2240;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/venus.jpg"
                  position="70 7.844 0" radius="0.82"
                  event-set__click="_event: mouseenter; _target: #venus; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #venus; visible: false">
            <a-entity id="venus" visible="false">
                <a-plane visible="true" position="-2 0 1.5" rotation="0 25 0" height="2" width="3.2"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/venus_e.png"></a-plane>
                <a-plane visible="true" position="-2 0 1.5" rotation="0 200 0" height="2" width="3.2"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/venus_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Earth -->
    <a-entity id="move3" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 3650;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/terre.jpg"
                  position="82 7.722 0" radius="0.84" rotation="0 30 0"
                  event-set__click="_event: mouseenter; _target: #earth; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #earth; visible: false">
            <a-entity id="earth" visible="false">
                <a-plane visible="true" position="-2 0 1.3" rotation="0 25 0" height="2" width="3.2"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/terre_e.png"></a-plane>
                <a-plane visible="true" position="-2 0 1.3" rotation="0 200 0" height="2" width="3.2"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/terre_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Mars -->
    <a-entity id="move4" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 6870;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/mars.jpg"
                  position="94 7.648 0" radius="0.41"
                  event-set__click="_event: mouseenter; _target: #mars; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #mars; visible: false">
            <a-entity id="mars" visible="false">
                <a-plane visible="true" position="-1.8 0 1" rotation="0 25 0" height="1.8" width="3"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/mars_e.png"></a-plane>
                <a-plane visible="true" position="-1.8 0 1" rotation="0 200 0" height="1.8" width="3"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/mars_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Jupiter -->
    <a-entity id="move5" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 43330;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/jupiter.jpg"
                  position="108 8.040 0" radius="6.3"
                  event-set__click="_event: mouseenter; _target: #jupiter; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #jupiter; visible: false">
            <a-entity id="jupiter" visible="false">
                <a-plane visible="true" position="-8 0 8" rotation="0 45 0" width="7.5" height="5"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/jupiter_e.png"></a-plane>
                <a-plane visible="true" position="-8 0 8" rotation="0 225 0" width="7.5" height="5"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/jupiter_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Saturn -->
    <a-entity id="move6" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 107590;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/saturne.jpg"
                  position="132 8.040 0" radius="5.7"
                  event-set__click="_event: mouseenter; _target: #saturn; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #saturn; visible: false">
            <a-entity id="saturn" visible="false">
                <a-plane visible="true" position="-5 0 10" rotation="0 45 0" width="7.5" height="5"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/saturne_e.png"></a-plane>
                <a-plane visible="true" position="-5 0 10" rotation="0 225 0" width="7.5" height="5"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/saturne_e.png"></a-plane>
            </a-entity>
        </a-sphere>
        <!-- Rings -->
        <!-- Inner Rings -->
        <a-ring color="#353124"
                position="132 7.914 0" rotation="70.000 0 0" radius-inner="7.3" radius-outer="8"></a-ring>
        <a-ring color="#353124"
                position="132 7.914 0" rotation="-70.000 180 0" radius-inner="7.3" radius-outer="8"></a-ring>
        <!-- Mid Rings -->
        <a-ring color="#6b634c"
                position="132 7.921 0" rotation="70.000 0 0" radius-inner="8" radius-outer="11"></a-ring>
        <a-ring color="#6b634c"
                position="132 7.921 0" rotation="-70.000 180 0" radius-inner="8" radius-outer="11"></a-ring>
        <!-- Outter Rings -->
        <a-ring color="#423e30"
                position="132 7.921 0" rotation="70.000 0 0" radius-inner="11.5" radius-outer="12.2"></a-ring>
        <a-ring color="#423e30"
                position="132 7.921 0" rotation="-70.000 180 0" radius-inner="11.5" radius-outer="12.2"></a-ring>
    </a-entity>
    <!-- Uranus -->
    <a-entity id="move7" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 306850;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/uranus.png"
                  position="156 7.148 0" radius="2.7"
                  event-set__click="_event: mouseenter; _target: #uranus; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #uranus; visible: false">
            <a-entity id="uranus" visible="false">
                <a-plane visible="true" position="-4.3 0 4.3" rotation="0 45 0" width="6" height="4"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/uranus_e.png"></a-plane>
                <a-plane visible="true" position="-4.3 0 4.3" rotation="0 225 0" width="6" height="4"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/uranus_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>
    <!-- Neptune -->
    <a-entity id="move8" animation="property: rotation;
                  to: 0 360 0;
                  easing: linear;
                  dur: 601890;
                  loop: true;
                  startEvents: rotation-start;
                  pauseEvents: rotation-pause;
                  resumeEvents: rotation-resume;
                  restartEvents: rotation-restart">
        <a-sphere src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/neptune.jpg"
                  position="172 6.982 0" radius="2.4"
                  event-set__click="_event: mouseenter; _target: #neptune; visible: true"
                  event-set__mouseleave="_event: mouseleave; _target: #neptune; visible: false">
            <a-entity id="neptune" visible="false">
                <a-plane visible="true" position="-4 0 4" rotation="0 45 0" width="5" height="3.8"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/neptune_e.png"></a-plane>
                <a-plane visible="true" position="-4 0 4" rotation="0 225 0" width="5" height="3.8"
                         src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/panels/neptune_e.png"></a-plane>
            </a-entity>
        </a-sphere>
    </a-entity>


    <!-- Environment -->
    <a-sky src="https://raw.githubusercontent.com/ClementRayer/Planetarium/origin/textures/background.png" rotation="0 -90 0"></a-sky><!--src="#sky"-->
    <a-entity light="type: point; color: #f4f4f4; intensity: 0.6; distance: 0" position="-8 10 -18"></a-entity>
    <a-entity light="type: ambient; color: #f4f4f4; intensity: 0.4;" position="-16.961 20.080 -6.319"></a-entity>
    <a-entity light="type: ambient; color: #f4f4f4; intensity: 0.4;" position="-8.542 17.392 -0.666"></a-entity>
    <a-entity camera position="20 30 200" rotation="-4 -13 0" look-controls="" wasd-controls="fly: true; acceleration:500" visible="true">
        <a-cursor fuse="true" color="white" position="0 0 -1" rotation="0 0 0" scale="1 1 1" visible="true"
                  material="color:white;shader:flat;opacity:0.8"
                  geometry="primitive:ring;radiusOuter:0.016;radiusInner:0.01;segmentsTheta:64"></a-cursor>
    </a-entity>

</a-scene>
<script>
    var currentEvent = "rotation-start";

    <!-- Pause ALL PLANETS -->
    document.querySelector("#go").addEventListener("click", function() {
        document.getElementById("move").emit(currentEvent);
        document.getElementById("move2").emit(currentEvent);
        document.getElementById("move3").emit(currentEvent);
        document.getElementById("move4").emit(currentEvent);
        document.getElementById("move5").emit(currentEvent);
        document.getElementById("move6").emit(currentEvent);
        document.getElementById("move7").emit(currentEvent);
        document.getElementById("move8").emit(currentEvent);
        switch (currentEvent) {
            case "rotation-start":
            case "rotation-restart":
            case "rotation-resume":
                this.textContent = "Pause";
                currentEvent = "rotation-pause";
                break;
            case "rotation-pause":
                this.textContent = "Reprendre";
                currentEvent = "rotation-resume";
                break;
        }
    });

    <!-- Reset ALL PLANETS positions and stop movements -->
    document.getElementById("init").addEventListener("click", function() {
        document.getElementById("move").emit("rotation-pause");
        document.getElementById("move").setAttribute("rotation", "0 0 0");
        document.getElementById("move2").emit("rotation-pause");
        document.getElementById("move2").setAttribute("rotation", "0 0 0");
        document.getElementById("move3").emit("rotation-pause");
        document.getElementById("move3").setAttribute("rotation", "0 0 0");
        document.getElementById("move4").emit("rotation-pause");
        document.getElementById("move4").setAttribute("rotation", "0 0 0");
        document.getElementById("move5").emit("rotation-pause");
        document.getElementById("move5").setAttribute("rotation", "0 0 0");
        document.getElementById("move6").emit("rotation-pause");
        document.getElementById("move6").setAttribute("rotation", "0 0 0");
        document.getElementById("move7").emit("rotation-pause");
        document.getElementById("move7").setAttribute("rotation", "0 0 0");
        document.getElementById("move8").emit("rotation-pause");
        document.getElementById("move8").setAttribute("rotation", "0 0 0");
        currentEvent = "rotation-restart";
        document.querySelector("#go").textContent = "Play";
    });
</script>
</body>
</html>